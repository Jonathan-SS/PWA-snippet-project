{
  "version": 3,
  "sources": ["browser-route-module:/Users/jonathanskovmose/Documents/GitHub/PWA-snippet-project/app/routes/seed.jsx?browser", "../../../app/routes/seed.jsx"],
  "sourcesContent": ["export { default } from \"/Users/jonathanskovmose/Documents/GitHub/PWA-snippet-project/app/routes/seed.jsx\";", "import { Link } from \"react-router-dom\";\nimport { Form, redirect } from \"remix\";\nimport connectDb from \"~/db/connectDb.server.js\";\nimport seedData from \"~/db/seed.json\";\n\nexport async function loader() {\n  const db = await connectDb();\n  const count = await db.models.Snippet.countDocuments();\n  if (count > 0) {\n    return redirect(\"/snippets/all\");\n  }\n\n  return null;\n}\n\nexport async function action({ request }) {\n  const form = await request.formData();\n  const db = await connectDb();\n\n  const _action = form.get(\"_action\");\n  if (_action === \"seed\") {\n    try {\n      await db.models.Snippet.insertMany(seedData);\n      return redirect(\"/snippets/all\");\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport default function Seed() {\n  return (\n    <>\n      <div className=\" h-64 min-w-200-px bg-blue-700 dark:bg-gray-700 fixed top-1/2 left-1/4 rounded-lg p-9 justify-center\">\n        <h2 className=\"text-2xl text-white \">\n          It seems that your database is empty, would you like me to seed some\n          data for you?\n        </h2>\n        <div className=\" flex justify-center mt-16 gap-8\">\n          <Link to=\"/snippets/all\">\n            <button\n              to=\"/snippets/all\"\n              className=\"text-xl text-white bg-red-600 hover:bg-red-800 rounded-lg px-4 py-2\"\n            >\n              No!!\uD83D\uDE21\n            </button>\n          </Link>\n\n          <Form method=\"post\">\n            <button\n              name=\"_action\"\n              value=\"seed\"\n              type=\"submit\"\n              className=\"text-xl text-white hover:bg-green-800 bg-green-600 rounded-lg px-4 py-2\"\n            >\n              Yes please boss\uD83D\uDE07\n            </button>\n          </Form>\n        </div>\n      </div>\n    </>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;AAAA;;;ACAA;AAAA;AAEA,8BAAsB;AA4BP,gBAAgB;AAC7B,SACE,0DACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KAAuB,uFAIrC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,KACP,oCAAC,UAAD;AAAA,IACE,IAAG;AAAA,IACH,WAAU;AAAA,KACX,mBAKH,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,UAAD;AAAA,IACE,MAAK;AAAA,IACL,OAAM;AAAA,IACN,MAAK;AAAA,IACL,WAAU;AAAA,KACX;AAAA;",
  "names": []
}
